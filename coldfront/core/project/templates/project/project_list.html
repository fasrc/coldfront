{% extends "list_view.html" %}

{% block title %}
Project List
{% endblock %}


{% block page_title%}Projects{% endblock %}

{% block presearch %}
<div class="card mb-3 bg-light">
  <div class="card-body">
    {% comment %}
    {% if user.userprofile.is_pi or user.is_superuser %}
    <a class="btn btn-primary" href="{% url 'project-create' %}" role="button"><i class="fas fa-plus" aria-hidden="true"></i> Add a project</a>
    {% endif %}
    {% endcomment %}
    <div class="float-right">
      <a class="btn btn-primary" href="{% url 'project-archived-list' %}?{{filter_parameters}}" role="button"><i class="fas fa-archive" aria-hidden="true"></i> View archived projects</a>
    </div>
  </div>
</div>
{% endblock %}

{% block list_title %}Projects: {{count}}{% endblock %}

{% block table_contents%}
<thead>
  <tr>
    <th scope="col" class="text-nowrap">
      ID
      <a href="?order_by=id&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up" aria-hidden="true"></i><span class="sr-only">Sort ID asc</span></a>
      <a href="?order_by=id&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down" aria-hidden="true"></i><span class="sr-only">Sort ID desc</span></a>
    </th>
    <th scope="col" class="text-nowrap">
      PI
      <a href="?order_by=pi__username&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up" aria-hidden="true"></i><span class="sr-only">Sort PI asc</span></a>
      <a href="?order_by=pi__username&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down" aria-hidden="true"></i><span class="sr-only">Sort PI desc</span></a>
    </th>
    <th scope="col">Title</th>
    <th scope="col" class="text-nowrap">
      Field of Science
      <a href="?order_by=field_of_science&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up" aria-hidden="true"></i><span class="sr-only">Sort Field of Science asc</span></a>
      <a href="?order_by=field_of_science&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down" aria-hidden="true"></i><span class="sr-only">Sort Field of Science desc</span></a>
    </th>
    <th scope="col" class="text-nowrap">
      Status
      <a href="?order_by=status&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up" aria-hidden="true"></i><span class="sr-only">Sort Status asc</span></a>
      <a href="?order_by=status&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down" aria-hidden="true"></i><span class="sr-only">Sort Status desc</span></a>
    </th>
  </tr>
</thead>
<tbody>
  {% for project in item_list %}
  <tr>
    <td><a href="/project/{{project.id}}/">{{ project.id }}</a></td>
    <td>{{project.pi.first_name}} {{project.pi.last_name}} ({{ project.pi.username }}) </td>
    <td style="text-align: justify; text-justify: inter-word;">{{ project.title }}</td>
    <td>{{ project.field_of_science.description }}</td>
    <td>{{ project.status.name }}</td>
  </tr>
  {% endfor %}
</tbody>
{% endblock %}


{% block activelink %}
$("#navbar-project-menu").addClass("active");
$("#navbar-project").addClass("active");
{% endblock %}
